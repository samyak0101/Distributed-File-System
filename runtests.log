('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc server.o -o server udp.c
gcc -c -fpic mfs.c 
mfs.c: In function ‘MFS_Lookup’:
mfs.c:84:3: warning: format not a string literal and no format arguments [-Wformat-security]
   84 |   sprintf(msg.name, name);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Stat’:
mfs.c:137:36: warning: passing argument 3 of ‘UDP_Read’ from incompatible pointer type [-Wincompatible-pointer-types]
  137 |   n = UDP_Read(clientfd, &addrRcv, m, sizeof(MFS_Stat_t));
      |                                    ^
      |                                    |
      |                                    MFS_Stat_t * {aka struct __MFS_Stat_t *}
In file included from mfs.c:8:
udp.h:33:54: note: expected ‘char *’ but argument is of type ‘MFS_Stat_t *’ {aka ‘struct __MFS_Stat_t *’}
   33 | int UDP_Read(int fd, struct sockaddr_in *addr, char *buffer, int n);
      |                                                ~~~~~~^~~~~~
mfs.c: In function ‘MFS_Write’:
mfs.c:159:3: warning: format not a string literal and no format arguments [-Wformat-security]
  159 |   sprintf(msg.buffer, buffer);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Read’:
mfs.c:191:3: warning: format not a string literal and no format arguments [-Wformat-security]
  191 |   sprintf(msg.buffer, buffer);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Creat’:
mfs.c:220:3: warning: format not a string literal and no format arguments [-Wformat-security]
  220 |   sprintf(msg.name, name);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Unlink’:
mfs.c:252:3: warning: format not a string literal and no format arguments [-Wformat-security]
  252 |   sprintf(msg.name, name);
      |   ^~~~~~~
gcc -c -fpic udp.c
gcc -c -fpic server.c
gcc -shared -o libmfs.so mfs.o udp.o
gcc -L. -o client client.c -Wall libmfs.so


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6016
/tmp/tmpKPoWyf/p/server 6016 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 6016
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs shutdown


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8872
/tmp/tmpKPoWyf/p/server 8872 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8872
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
parent inode dierct i is 4
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs shutdown


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7100
/tmp/tmpKPoWyf/p/server 7100 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
Failure: MFS_Read returned failure inum=1 block=0


test write FAILED
 (write then read one block)
 MFS_Read returned failure inum=1 block=0

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7921
/tmp/tmpKPoWyf/p/server 7921 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs stat
size of m: 96
type of data: 0
in mfs stat
size of m: 0
type of data: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs stat
size of m: 0
type of data: 1
Failure: Stat gave wrong size


test stat FAILED
 (stat a regular file)
 Stat gave wrong size

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9951
/tmp/tmpKPoWyf/p/server 9951 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
Failure: MFS_Read returned failure inum=1 block=0


test overwrite FAILED
 (overwrite a block)
 MFS_Read returned failure inum=1 block=0

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7121
/tmp/tmpKPoWyf/p/server 7121 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
Failure: MFS_Read returned failure inum=1 block=0


test maxfile FAILED
 (write largest possible file)
 MFS_Read returned failure inum=1 block=0

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9692
/tmp/tmpKPoWyf/p/server 9692 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
31
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs creat
read 8 bytes
response of creat: 1
write more than need
in mfs creat
read 8 bytes
response of creat: 1
Failure: MFS_Write should fail on inalid block number


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8271
/tmp/tmpKPoWyf/p/server 8271 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8271
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs lookup
read 8 bytes
return of lookup: 0
in mfs lookup
read 8 bytes
return of lookup: 0
in mfs shutdown


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6484
/tmp/tmpKPoWyf/p/server 6484 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: 0
Failure: '.' in directory should point to directory itself


test dir2 FAILED
 (create a new directory and check it)
 '.' in directory should point to directory itself

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7540
/tmp/tmpKPoWyf/p/server 7540 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 7540
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
parent inode dierct i is 4
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: testfile
Create done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: -1
in mfs shutdown


test baddir PASSED
 (try to create a file with a file parent inode)

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7934
/tmp/tmpKPoWyf/p/server 7934 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 7934
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
parent inode dierct i is 4
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test baddir2 PASSED
 (try to lookup a file with a file parent inode)

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7933
/tmp/tmpKPoWyf/p/server 7933 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 7933
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
parent inode dierct i is 4
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling unlink
Trying to unlink a file called test
parent has the inum: 0
pinum is valid
Got the parent inode. It's size is: 96
entered second for loop
entered second for loop
entered second for loop
Found dir ent with name test in parent's directory entries
Reached, about to clear inode and some other stuff
attempting to clear 1
Got past clear_bit i think!
value of delbit is -16777216
Last 2 things to change!
Unlink done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test unlink PASSED
 (unlink a file)

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8809
/tmp/tmpKPoWyf/p/server 8809 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8809
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
parent inode dierct i is 4
here
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling unlink
Trying to unlink a file called test
parent has the inum: 0
pinum is valid
Got the parent inode. It's size is: 96
entered second for loop
entered second for loop
entered second for loop
Found dir ent with name test in parent's directory entries
Reached, about to clear inode and some other stuff
attempting to clear 1
Got past clear_bit i think!
value of delbit is -16777216
Last 2 things to change!
Unlink done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test unlink2 PASSED
 (unlink a directory)

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6707
/tmp/tmpKPoWyf/p/server 6707 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
Failure: MFS_Lookup returned failure inum=1 name='testfile'


test empty FAILED
 (unlink a non-empty directory)
 MFS_Lookup returned failure inum=1 name='testfile'

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5868
/tmp/tmpKPoWyf/p/server 5868 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 5868
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
in mfs shutdown


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7233
/tmp/tmpKPoWyf/p/server 7233 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 1
in mfs lookup
read 8 bytes
return of lookup: -1
Failure: MFS_Lookup returned failure inum=0 name='test'


test persist FAILED
 (restart server after creating a file)
 MFS_Lookup returned failure inum=0 name='test'

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5473
/tmp/tmpKPoWyf/p/server 5473 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 5473
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
parent inode dierct i is 7
here
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 0
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 1
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 2
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 3
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 4
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 5
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 6
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 7
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 8
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 9
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 10
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 11
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 12
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 13
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 14
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 15
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 16
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 17
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 18
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 19
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 20
parent inode dierct i is 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 21
parent inode dierct i is 8
Create done, it's 0
server:: reply
serverin mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: -1
Failure: MFS_Creat returned failure inum=1 type=1 name='30'


test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7839
/tmp/tmpKPoWyf/p/server 7839 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
Failure: MFS_Lookup returned failure inum=1 name='0'


test deep FAILED
 (create many deeply nested directories)
 MFS_Lookup returned failure inum=1 name='0'

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 MFS_Read returned failure inum=1 block=0

test stat FAILED
 (stat a regular file)
 Stat gave wrong size

test overwrite FAILED
 (overwrite a block)
 MFS_Read returned failure inum=1 block=0

test maxfile FAILED
 (write largest possible file)
 MFS_Read returned failure inum=1 block=0

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

test dir1 PASSED
 (check root for dot entries)

test dir2 FAILED
 (create a new directory and check it)
 '.' in directory should point to directory itself

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink PASSED
 (unlink a file)

test unlink2 PASSED
 (unlink a directory)

test empty FAILED
 (unlink a non-empty directory)
 MFS_Lookup returned failure inum=1 name='testfile'

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 MFS_Lookup returned failure inum=0 name='test'

test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

test deep FAILED
 (create many deeply nested directories)
 MFS_Lookup returned failure inum=1 name='0'

Passed 9 of 19 tests.
Overall 9 of 19
