('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -g -Wall -Werror  server.o -o server udp.c
gcc -g -c -fpic mfs.c 
mfs.c: In function ‘MFS_Lookup’:
mfs.c:84:3: warning: format not a string literal and no format arguments [-Wformat-security]
   84 |   sprintf(msg.name, name);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Stat’:
mfs.c:137:36: warning: passing argument 3 of ‘UDP_Read’ from incompatible pointer type [-Wincompatible-pointer-types]
  137 |   n = UDP_Read(clientfd, &addrRcv, m, sizeof(MFS_Stat_t));
      |                                    ^
      |                                    |
      |                                    MFS_Stat_t * {aka struct __MFS_Stat_t *}
In file included from mfs.c:8:
udp.h:33:54: note: expected ‘char *’ but argument is of type ‘MFS_Stat_t *’ {aka ‘struct __MFS_Stat_t *’}
   33 | int UDP_Read(int fd, struct sockaddr_in *addr, char *buffer, int n);
      |                                                ~~~~~~^~~~~~
mfs.c: In function ‘MFS_Write’:
mfs.c:159:3: warning: format not a string literal and no format arguments [-Wformat-security]
  159 |   sprintf(msg.buffer, buffer);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Read’:
mfs.c:191:3: warning: format not a string literal and no format arguments [-Wformat-security]
  191 |   sprintf(msg.buffer, buffer);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Creat’:
mfs.c:220:3: warning: format not a string literal and no format arguments [-Wformat-security]
  220 |   sprintf(msg.name, name);
      |   ^~~~~~~
mfs.c: In function ‘MFS_Unlink’:
mfs.c:252:3: warning: format not a string literal and no format arguments [-Wformat-security]
  252 |   sprintf(msg.name, name);
      |   ^~~~~~~
gcc -g -c -fpic udp.c
gcc -g -c -fpic server.c
gcc -shared -o libmfs.so mfs.o udp.o
gcc -L. -g -o client client.c -Wall libmfs.so
client.c: In function ‘main’:
client.c:65:9: warning: ‘stat’ is used uninitialized [-Wuninitialized]
   65 |         MFS_Stat(inum2, stat);
      |         ^~~~~~~~~~~~~~~~~~~~~


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9818
/tmp/tmp6idvVQ/p/server 9818 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 9818
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs shutdown


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8998
/tmp/tmp6idvVQ/p/server 8998 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8998
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
msg inum: 0
0x7f0b76aaf000 vs 0x7f0b76aaf000
parent inode dierct i is 4
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f0b76aaf000 vs 0x7f0b76aaf000
Looked up inode 1 -> test
Found this name in lookup: test
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs shutdown


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9683
/tmp/tmp6idvVQ/p/server 9683 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 83
Failure: MFS_Read returned failure inum=1 block=0


test write FAILED
 (write then read one block)
 MFS_Read returned failure inum=1 block=0

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7336
/tmp/tmp6idvVQ/p/server 7336 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs stat
size of m: 96
type of data: 0
in mfs stat
size of m: 0
type of data: 1
Failure: Stat gave wrong type


test stat FAILED
 (stat a regular file)
 Stat gave wrong type

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6815
/tmp/tmp6idvVQ/p/server 6815 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 83
Failure: MFS_Read returned failure inum=1 block=0


test overwrite FAILED
 (overwrite a block)
 MFS_Read returned failure inum=1 block=0

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6359
/tmp/tmp6idvVQ/p/server 6359 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 6359
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
msg inum: 0
0x7fc491449000 vs 0x7fc491449000
parent inode dierct i is 7
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7fc491449000 vs 0x7fc491449000
Looked up inode 1 -> test
Found this name in lookup: test
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
file size: 0
Write done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: wain mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: 83
Failure: MFS_Read returned failure inum=1 block=0


test maxfile FAILED
 (write largest possible file)
 MFS_Read returned failure inum=1 block=0

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9388
/tmp/tmp6idvVQ/p/server 9388 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 9388
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
msg inum: 0
0x7fe2f2658000 vs 0x7fe2f2658000
parent inode dierct i is 4
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7fe2f2658000 vs 0x7fe2f2658000
Looked up inode 1 -> test
Found this name in lookup: test
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
file size: 0
Write done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
calling write
Inside Server MFS_Write; Message type: 2
2
Write done, it's -1
server:: reply
server:: wain mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
31
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
in mfs creat
read 8 bytes
response of creat: -1
write more than need
in mfs creat
read 8 bytes
response of creat: -1
Failure: MFS_Write should fail on inalid block number


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7525
/tmp/tmp6idvVQ/p/server 7525 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 7525
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f88c0b09000 vs 0x7f88c0b09000
Looked up inode 0 -> .
Found this name in lookup: .
inum in lookup LOOKKKUPP: 0
Lookup done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f88c0b09000 vs 0x7f88c0b09000
Looked up inode 0 -> ..
Found this name in lookup: ..
inum in lookup LOOKKKUPP: 0
Lookup done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs lookup
read 8 bytes
return of lookup: 0
in mfs lookup
read 8 bytes
return of lookup: 0
in mfs shutdown


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5870
/tmp/tmp6idvVQ/p/server 5870 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 5870
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
msg inum: 0
0x7fd62cd3d000 vs 0x7fd62cd3d000
parent inode dierct i is 4
Allocated inode : 1
here
new inode printed later: 1
Created directory '.' inum '1'
Created directory '..' inum '0'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7fd62cd3d000 vs 0x7fd62cd3d000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 1
msg inum: 1
0x7fd62cd3d000 vs 0x7fd62cd3d080
Looked up inode 1 -> .
Found this name in lookup: .
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 1
msg inum: 1
0x7fd62cd3d000 vs 0x7fd62cd3d080
Looked up inode 0 -> ..
Found this name in lookup: ..
inum in lookup LOOKKKUPP: 0
Lookup done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: 0
in mfs shutdown


test dir2 PASSED
 (create a new directory and check it)

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7245
/tmp/tmp6idvVQ/p/server 7245 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 7245
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
msg inum: 0
0x7f6c9319f000 vs 0x7f6c9319f000
parent inode dierct i is 4
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f6c9319f000 vs 0x7f6c9319f000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: testfile
msg inum: 1
0x7f6c9319f000 vs 0x7f6c9319f080
Create done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: -1
in mfs shutdown


test baddir PASSED
 (try to create a file with a file parent inode)

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6664
/tmp/tmp6idvVQ/p/server 6664 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 6664
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
msg inum: 0
0x7f0be2168000 vs 0x7f0be2168000
parent inode dierct i is 4
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f0be2168000 vs 0x7f0be2168000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 1
msg inum: 1
0x7f0be2168000 vs 0x7f0be2168080
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test baddir2 PASSED
 (try to lookup a file with a file parent inode)

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6524
/tmp/tmp6idvVQ/p/server 6524 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 6524
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
msg inum: 0
0x7f75ec80b000 vs 0x7f75ec80b000
parent inode dierct i is 4
Allocated inode : 1
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f75ec80b000 vs 0x7f75ec80b000
Looked up inode 1 -> test
Found this name in lookup: test
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling unlink
Trying to unlink a file called test
parent has the inum: 0
pinum is valid
Got the parent inode. It's size is: 96
entered second for loop
entered second for loop
entered second for loop
Found dir ent with name test in parent's directory entries
Reached, about to clear inode and some other stuff
attempting to clear 1
Got past clear_bit i think!
value of delbit is -16777216
Last 2 things to change!
Unlink done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test unlink PASSED
 (unlink a file)

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8341
/tmp/tmp6idvVQ/p/server 8341 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8341
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: test
msg inum: 0
0x7f37c415a000 vs 0x7f37c415a000
parent inode dierct i is 4
Allocated inode : 1
here
new inode printed later: 1
Created directory '.' inum '1'
Created directory '..' inum '0'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f37c415a000 vs 0x7f37c415a000
Looked up inode 1 -> test
Found this name in lookup: test
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling unlink
Trying to unlink a file called test
parent has the inum: 0
pinum is valid
Got the parent inode. It's size is: 96
entered second for loop
entered second for loop
entered second for loop
Found dir ent with name test in parent's directory entries
Reached, about to clear inode and some other stuff
attempting to clear 1
Got past clear_bit i think!
value of delbit is -16777216
Last 2 things to change!
Unlink done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
Lookup done, it's -1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: -1
in mfs shutdown


test unlink2 PASSED
 (unlink a directory)

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6867
/tmp/tmp6idvVQ/p/server 6867 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 2
in mfs creat
read 8 bytes
response of creat: 0
Failure: MFS_Unlink should fail on non-empty dir


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8479
/tmp/tmp6idvVQ/p/server 8479 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 8479
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
in mfs shutdown


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7713
/tmp/tmp6idvVQ/p/server 7713 /home/samyak/cs537/p4/osp4/test.img
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 83
Failure: MFS_Read returned failure inum=1 block=0


test persist FAILED
 (restart server after creating a file)
 MFS_Read returned failure inum=1 block=0

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9563
/tmp/tmp6idvVQ/p/server 9563 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 9563
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
msg inum: 0
0x7fba7598e000 vs 0x7fba7598e000
parent inode dierct i is 7
Allocated inode : 1
here
new inode printed later: 1
Created directory '.' inum '1'
Created directory '..' inum '0'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7fba7598e000 vs 0x7fba7598e000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 0
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 2
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 1
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 3
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 2
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 4
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 3
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 5
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 4
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 6
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 5
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 7
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 6
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 8
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 7
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 9
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 8
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 10
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 9
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 11
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 10
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 12
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 11
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 13
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 12
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 14
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 13
msg inum: 1
0x7fba7598e000 vs 0x7fba7598e080
parent inode dierct i is 8
Allocated inode : 15
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 14
msg inum: 1
0x7fba759in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: 0
in mfs creat
read 8 bytes
response of creat: -1
Failure: MFS_Creat returned failure inum=1 type=1 name='30'


test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9139
/tmp/tmp6idvVQ/p/server 9139 /home/samyak/cs537/p4/osp4/test.img
Listening for connections on port 9139
inodes 0
max inum: 32
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 0
Creating with name: testdir
msg inum: 0
0x7f4c28743000 vs 0x7f4c28743000
parent inode dierct i is 7
Allocated inode : 1
here
new inode printed later: 1
Created directory '.' inum '1'
Created directory '..' inum '0'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f4c28743000 vs 0x7f4c28743000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 1
Creating with name: 0
msg inum: 1
0x7f4c28743000 vs 0x7f4c28743080
parent inode dierct i is 8
Allocated inode : 2
here
new inode printed later: 2
Created directory '.' inum '2'
Created directory '..' inum '1'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 1
msg inum: 1
0x7f4c28743000 vs 0x7f4c28743080
Looked up inode 2 -> 0
Found this name in lookup: 0
inum in lookup LOOKKKUPP: 2
Lookup done, it's 2
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 2
Creating with name: 1
msg inum: 2
0x7f4c28743000 vs 0x7f4c28743100
parent inode dierct i is 9
Allocated inode : 3
here
new inode printed later: 3
Created directory '.' inum '3'
Created directory '..' inum '2'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 2
msg inum: 2
0x7f4c28743000 vs 0x7f4c28743100
Looked up inode 3 -> 1
Found this name in lookup: 1
inum in lookup LOOKKKUPP: 3
Lookup done, it's 3
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 3
Creating with name: 2
msg inum: 3
0x7f4c28743000 vs 0x7f4c28743180
parent inode dierct i is 10
Allocated inode : 4
here
new inode printed later: 4
Created directory '.' inum '4'
Created directory '..' inum '3'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 3
msg inum: 3
0x7f4c28743000 vs 0x7f4c28743180
Looked up inode 4 -> 2
Found this name in lookup: 2
inum in lookup LOOKKKUPP: 4
Lookup done, it's 4
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
 message pinum: 4
Creating with name: 3
msg inum: 4
0x7f4c28743000 vs 0x7f4c28743200
parent inode dierct i is 11
Allocated inode : 5
here
new inode printed later: 5
Created directory '.' inum '5'
Created directory '..' inum '4'
Create done, it's 0
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 4
msg inum: 4
0x7f4c28743000 vs 0x7f4c28743200
Looked up inode 5 -> 3
Found this name in lookup: 3
inum in lookup LOOKKKUPP: 5
Lookup done, it's 5
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 0
msg inum: 0
0x7f4c28743000 vs 0x7f4c28743000
Looked up inode 1 -> testdir
Found this name in lookup: testdir
inum in lookup LOOKKKUPP: 1
Lookup done, it's 1
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 1
msg inum: 1
0x7f4c28743000 vs 0x7f4c28743080
Looked up inode 2 -> 0
Found this name in lookup: 0
inum in lookup LOOKKKUPP: 2
Lookup done, it's 2
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 2
msg inum: 2
0x7f4c28743000 vs 0x7f4c28743100
Looked up inode 3 -> 1
Found this name in lookup: 1
inum in lookup LOOKKKUPP: 3
Lookup done, it's 3
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 3
msg inum: 3
0x7f4c28743000 vs 0x7f4c28743180
Looked up inode 4 -> 2
Found this name in lookup: 2
inum in lookup LOOKKKUPP: 4
Lookup done, it's 4
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
lookup message inum: 0
lookup message pinum: 4
msg inum: 4
0x7f4c28743000 vs 0x7f4c28743200
Looked up inode 5 -> 3
Found this name in lookup: 3
inum in lookup LOOKKKUPP: 5
Lookup done, it's 5
server:: reply
server:: waiting...
server:: read message [size:1000 contents:()]
Calling shutdown
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 2
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 3
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 4
in mfs creat
read 8 bytes
response of creat: 0
in mfs lookup
read 8 bytes
return of lookup: 5
in mfs lookup
read 8 bytes
return of lookup: 1
in mfs lookup
read 8 bytes
return of lookup: 2
in mfs lookup
read 8 bytes
return of lookup: 3
in mfs lookup
read 8 bytes
return of lookup: 4
in mfs lookup
read 8 bytes
return of lookup: 5
in mfs shutdown


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 MFS_Read returned failure inum=1 block=0

test stat FAILED
 (stat a regular file)
 Stat gave wrong type

test overwrite FAILED
 (overwrite a block)
 MFS_Read returned failure inum=1 block=0

test maxfile FAILED
 (write largest possible file)
 MFS_Read returned failure inum=1 block=0

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink PASSED
 (unlink a file)

test unlink2 PASSED
 (unlink a directory)

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 MFS_Read returned failure inum=1 block=0

test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

test deep PASSED
 (create many deeply nested directories)

Passed 11 of 19 tests.
Overall 11 of 19
